## 공공데이터 api 이용 실시간 미세먼지 추출

```python

from urllib.request import urlopen
from urllib.parse import urlencode, unquote, quote_plus
import requests
import urllib
import xmltodict
import json


url = 'http://apis.data.go.kr/B552584/ArpltnStatsSvc/getCtprvnMesureSidoLIst'
queryParams = '?' + urlencode({ quote_plus('ServiceKey') : 'nka5UJqArGL%2BTeI4C6FrpoXxRLjzb02sB3iHQucWdOGDycY%2Byvb3h9s6o4ZC852hKXey83hMKTy1Ng6u3k4gPA%3D%3D', quote_plus('returnType') : 'xml', quote_plus('numOfRows') : '100', quote_plus('pageNo') : '1', quote_plus('sidoName') : '%EC%84%9C%EC%9A%B8', quote_plus('searchCondition'):'DAILY' })
request = urllib.request.Request(url + unquote(queryParams))

response_body = urlopen(request, timeout=60).read() # get bytes data
decode_data = response_body.decode('utf-8')

print(type(decode_data))


xml_parse = xmltodict.parse(decode_data)     # string인 xml 파싱
xml_dict = json.loads(json.dumps(xml_parse))

dic=(xml_dict['response']['body']['items']['item'])

```
공공데이터 사이트에 있는 오픈 api를 이용하여 데이터를 추출한다.

```python
for i in range(100):
    dic[i]=(xml_dict['response']['body']['items']['item'][i])
```

반복문을 이용하여 데이터들을 넣어 준 뒤

```python
result={}
for i in range(100):
    result[i]={key:value for key, value in dic[i].items() if key != 'so2Value'}
    result[i]={key:value for key, value in dic[i].items() if key != 'khaiValue'}
```
내가 필요 없는 데이터는 삭제해준다.
